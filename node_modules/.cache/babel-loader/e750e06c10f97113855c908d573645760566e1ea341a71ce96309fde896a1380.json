{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport Mock from 'mockjs';\n\n//get請求從config.url獲取參數，post從config.body中獲取參數\nfunction param2Obj(url) {\n  const search = url.split('?')[1];\n  if (!search) {\n    return {};\n  }\n  const params = new URLSearchParams(search);\n  let obj = {};\n  for (let [key, value] of params) {\n    obj[key] = value;\n  }\n  return obj;\n}\nlet List = [];\nconst count = 200;\nfor (let i = 0; i < count; i++) {\n  List.push(Mock.mock({\n    id: Mock.Random.guid(),\n    name: Mock.Random.cname(),\n    sex: Mock.Random.integer(0, 1),\n    birth: Mock.Random.date(),\n    'age|18-60': 1,\n    addr: Mock.Random.mock('country(true)')\n  }));\n}\nexport default {\n  /**\n   * 獲取列表\n   * 要帶參數 name, page, limit; name 可以不填,page, limit 有默認值\n   * @param name, page, limit\n   * @return {number} code\n   * @return {number} count\n   * @return {*[]} data\n   */\n  getUserList: config => {\n    const {\n      name,\n      page = 1,\n      limit = 20\n    } = param2Obj(config.url);\n    console.log('name:' + name, 'page:' + page, '分頁大小limit:' + limit);\n    const mockList = List.filter(user => {\n      if (name && user.name.indexOf(name) === -1 && user.addr.indexOf(name) === -1) return false;\n      return true;\n    });\n    const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page - 1));\n    return {\n      code: 20000,\n      count: mockList.length,\n      list: pageList\n    };\n  },\n  /**\n   * 增加用戶\n   * @param name, addr, age, birth, sex\n   * @return {number} \n   * @return {message: string} data\n   */\n  createUser: config => {\n    const {\n      name,\n      addr,\n      age,\n      birth,\n      sex\n    } = JSON.parse(config.body);\n    console.log(JSON.parse(config.body));\n    List.unshift({\n      id: Mock.Random.guid(),\n      name: name,\n      sex: sex,\n      birth: birth,\n      age: age,\n      addr: addr\n    });\n    return {\n      code: 20000,\n      data: {\n        message: '添加成功'\n      }\n    };\n  },\n  /**\n   * 刪除用戶\n   * @param id\n   * @return {*}\n   */\n  deleteUser: config => {\n    const {\n      id\n    } = JSON.parse(config.body);\n    if (!id) {\n      return {\n        code: -999,\n        message: '參數不正確'\n      };\n    } else {\n      List = List.filter(u => u.id !== id);\n      return {\n        code: 20000,\n        message: '刪除成功'\n      };\n    }\n  },\n  /**\n   * 批量刪除\n   * @param config\n   * @return {number} \n   * @return {message: string} data\n   */\n  batchRemove: config => {\n    let {\n      ids\n    } = param2Obj(config.url);\n    ids = ids.split(',');\n    List = List.filter(u => !ids.includes(u.id));\n    return {\n      code: 20000,\n      data: {\n        message: '批量刪除成功'\n      }\n    };\n  },\n  /**\n   * 修改用戶\n   * @param id, name, addr, age, birth. sex\n   * @return {number} \n   * @return {message: string} data\n   */\n  updateUser: config => {\n    const {\n      id,\n      name,\n      addr,\n      age,\n      birth,\n      sex\n    } = JSON.parse(config.body);\n    const sex_num = parseInt(sex);\n    List.some(u => {\n      if (u.id === id) {\n        u.name = name;\n        u.addr = addr;\n        u.age = age;\n        u.birth = birth;\n        u.sex = sex_num;\n      }\n    });\n    return {\n      code: 20000,\n      data: {\n        message: '編輯成功'\n      }\n    };\n  }\n};","map":{"version":3,"names":["Mock","param2Obj","url","search","split","params","URLSearchParams","obj","key","value","List","count","i","push","mock","id","Random","guid","name","cname","sex","integer","birth","date","addr","getUserList","config","page","limit","console","log","mockList","filter","user","indexOf","pageList","item","index","code","length","list","createUser","age","JSON","parse","body","unshift","data","message","deleteUser","u","batchRemove","ids","includes","updateUser","sex_num","parseInt","some"],"sources":["/Users/serina/Desktop/vue-backstage/src/api/mockServeData/user.js"],"sourcesContent":["import Mock from 'mockjs'\n\n//get請求從config.url獲取參數，post從config.body中獲取參數\nfunction param2Obj (url) {\n    const search = url.split('?')[1];\n    if (!search) {\n        return {}\n    }\n    const params = new URLSearchParams(search);\n    let obj = {};\n    for (let [key, value] of params) {\n        obj[key] = value;\n    }\n    return obj;\n}\n\nlet List = []\nconst count = 200;\n\nfor (let i = 0; i < count; i ++) {\n    List.push(\n        Mock.mock({\n            id: Mock.Random.guid(),\n            name: Mock.Random.cname(),\n            sex: Mock.Random.integer(0, 1),\n            birth: Mock.Random.date(),\n            'age|18-60':1,\n            addr: Mock.Random.mock('country(true)'),\n        })\n    )\n}\n\n\nexport default {\n    /**\n     * 獲取列表\n     * 要帶參數 name, page, limit; name 可以不填,page, limit 有默認值\n     * @param name, page, limit\n     * @return {number} code\n     * @return {number} count\n     * @return {*[]} data\n     */\n    getUserList: config => {\n        const { name, page = 1, limit = 20 } = param2Obj(config.url);\n        console.log('name:' + name, 'page:' + page, '分頁大小limit:' +limit)\n        const mockList = List.filter(user => {\n            if(name && user.name.indexOf(name) === -1 && user.addr.indexOf(name) === -1)return false\n            return true\n        })\n        const pageList = mockList.filter((item, index) => index < limit * page && index >= limit * (page -1))\n        return {\n            code: 20000,\n            count: mockList.length,\n            list: pageList\n        }\n    },\n    /**\n     * 增加用戶\n     * @param name, addr, age, birth, sex\n     * @return {number} \n     * @return {message: string} data\n     */\n    createUser: config => {\n        const { name, addr, age, birth, sex } = JSON.parse(config.body);\n        console.log(JSON.parse(config.body))\n        List.unshift({\n            id: Mock.Random.guid(),\n            name: name,\n            sex: sex,\n            birth: birth,\n            age: age,\n            addr: addr,\n        })\n        return {\n            code: 20000,\n            data: {\n                message: '添加成功'\n            }\n        }\n    },\n\n    /**\n     * 刪除用戶\n     * @param id\n     * @return {*}\n     */\n    deleteUser: config => {\n        const { id } = JSON.parse(config.body);\n        if(!id) {\n            return {\n                code: -999,\n                message: '參數不正確'\n            }\n        } else {\n            List = List.filter(u => u.id !== id)\n            return {\n                code: 20000,\n                message: '刪除成功'\n            }\n        }\n    },\n    /**\n     * 批量刪除\n     * @param config\n     * @return {number} \n     * @return {message: string} data\n     */\n    batchRemove: config => {\n        let { ids } = param2Obj(config.url);\n        ids = ids.split(',');\n        List = List.filter(u => !ids.includes(u.id));\n        return {\n            code: 20000,\n            data: {\n                message: '批量刪除成功'\n            }\n        }\n    },\n    /**\n     * 修改用戶\n     * @param id, name, addr, age, birth. sex\n     * @return {number} \n     * @return {message: string} data\n     */\n    updateUser: config => {\n        const { id, name, addr, age, birth, sex } = JSON.parse(config.body);\n        const sex_num = parseInt(sex);\n        List.some(u=> {\n            if (u.id === id) {\n                u.name = name;\n                u.addr = addr;\n                u.age = age;\n                u.birth = birth;\n                u.sex = sex_num;\n            }\n        })\n        return {\n            code: 20000,\n            data: {\n                message: '編輯成功'\n            }\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}