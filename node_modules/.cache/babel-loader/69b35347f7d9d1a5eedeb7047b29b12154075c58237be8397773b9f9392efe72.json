{"ast":null,"code":"import axios from 'axios';\nimport config from '@/config/index.js';\nlet baseUrl = '';\nif (process.env.NODE_ENV === 'development') {\n  baseUrl = config.baseUrl.dev;\n} else {\n  baseUrl = config.baseUrl.pro;\n}\nclass HttpRequest {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: baseUrl,\n      headers: {}\n    });\n    console.log('Axios instance:', this.instance);\n    this.interceptors();\n  }\n  interceptors() {\n    //添加請求攔截器\n    this.instance.interceptors.request.use(function (config) {\n      console.log('Request intercept:', config);\n      //在發送請求前要做什麼\n      return config;\n    }, function (error) {\n      console.error('Request Error intercept:', error);\n      //對請求錯誤做些什麼\n      return Promise.reject(error);\n    });\n\n    //添加響應攔截器\n    this.instance.interceptors.response.use(function (response) {\n      console.log('Response Interceptor:', 'response');\n      //對響應數據做點什麼\n      return response;\n    }, function (error) {\n      console.log('Response Error Interceptor:', 'error');\n      //對響應錯誤做點什麼\n      return Promise.reject(error);\n    });\n  }\n  request(options) {\n    return this.instance(options);\n  }\n}\nexport default new HttpRequest();","map":{"version":3,"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequest","constructor","instance","create","baseURL","headers","console","log","interceptors","request","use","error","Promise","reject","response","options"],"sources":["/Users/serina/Desktop/vue-backstage/src/api/axios.js"],"sourcesContent":["import axios from 'axios';\nimport config from '@/config/index.js';\n\nlet baseUrl = '';\n\nif (process.env.NODE_ENV === 'development') {\n    baseUrl = config.baseUrl.dev;\n} else {\n    baseUrl = config.baseUrl.pro;\n}\n\nclass HttpRequest {\n    constructor() {\n        this.instance = axios.create({\n            baseURL: baseUrl,\n            headers: {}\n        });\n        console.log('Axios instance:', this.instance);\n        this.interceptors();\n    }\n\n    interceptors () {\n        //添加請求攔截器\n        this.instance.interceptors.request.use(\n            function(config) {\n                console.log('Request intercept:', config);\n            //在發送請求前要做什麼\n            return config;\n        }, function (error) {\n                console.error('Request Error intercept:', error);\n            //對請求錯誤做些什麼\n            return Promise.reject(error);\n        });\n\n        //添加響應攔截器\n        this.instance.interceptors.response.use(\n            function(response) {\n            console.log('Response Interceptor:', 'response');\n            //對響應數據做點什麼\n            return response;\n        }, function (error) {\n            console.log('Response Error Interceptor:', 'error');\n            //對響應錯誤做點什麼\n            return Promise.reject(error);\n        });\n    }\n    request(options) {\n        return this.instance(options);\n    }\n}\n\nexport default new HttpRequest();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,IAAIC,OAAO,GAAG,EAAE;AAEhB,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;EACxCH,OAAO,GAAGD,MAAM,CAACC,OAAO,CAACI,GAAG;AAChC,CAAC,MAAM;EACHJ,OAAO,GAAGD,MAAM,CAACC,OAAO,CAACK,GAAG;AAChC;AAEA,MAAMC,WAAW,CAAC;EACdC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,QAAQ,GAAGV,KAAK,CAACW,MAAM,CAAC;MACzBC,OAAO,EAAEV,OAAO;MAChBW,OAAO,EAAE,CAAC;IACd,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACL,QAAQ,CAAC;IAC7C,IAAI,CAACM,YAAY,CAAC,CAAC;EACvB;EAEAA,YAAYA,CAAA,EAAI;IACZ;IACA,IAAI,CAACN,QAAQ,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAClC,UAASjB,MAAM,EAAE;MACba,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEd,MAAM,CAAC;MAC7C;MACA,OAAOA,MAAM;IACjB,CAAC,EAAE,UAAUkB,KAAK,EAAE;MACZL,OAAO,CAACK,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MACpD;MACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAChC,CAAC,CAAC;;IAEF;IACA,IAAI,CAACT,QAAQ,CAACM,YAAY,CAACM,QAAQ,CAACJ,GAAG,CACnC,UAASI,QAAQ,EAAE;MACnBR,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,UAAU,CAAC;MAChD;MACA,OAAOO,QAAQ;IACnB,CAAC,EAAE,UAAUH,KAAK,EAAE;MAChBL,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE,OAAO,CAAC;MACnD;MACA,OAAOK,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAChC,CAAC,CAAC;EACN;EACAF,OAAOA,CAACM,OAAO,EAAE;IACb,OAAO,IAAI,CAACb,QAAQ,CAACa,OAAO,CAAC;EACjC;AACJ;AAEA,eAAe,IAAIf,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}