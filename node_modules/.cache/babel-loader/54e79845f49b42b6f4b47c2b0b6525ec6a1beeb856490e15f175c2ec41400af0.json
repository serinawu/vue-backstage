{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookie from 'js-cookie';\nexport default {\n  state: {\n    isCollapsed: false,\n    tabsList: [{\n      path: '/home',\n      name: 'home',\n      label: '首頁',\n      icon: 'HomeFilled'\n    }],\n    currentMenu: null,\n    menu: []\n  },\n  mutations: {\n    collapseMenu(state) {\n      state.isCollapsed = !state.isCollapsed;\n    },\n    selectMenu(state, val) {\n      state.currentMenu = val;\n      const result = state.tabsList.findIndex(item => item.name === val.name);\n      if (result === -1) {\n        state.tabsList.push(val);\n      } else {\n        state.currentMenu = null;\n      }\n    },\n    closeTag(state, val) {\n      const result = state.tabsList.findIndex(item => item.name === val.name);\n      state.tabsList.splice(result, 1);\n    },\n    setMenu(state, val) {\n      state.menu = val;\n      Cookie.set('menu', JSON.stringify(val));\n    },\n    clearMenu(state) {\n      state.menu = [];\n      Cookie.remove('menu');\n    },\n    addMenu(state, val) {\n      if (!Cookie.get('menu')) {\n        return;\n      }\n      const menu = JSON.parse(Cookie.get('menu'));\n      state.menu = menu;\n      const menuArray = [];\n      menu.forEach(item => {\n        if (item.children) {\n          item.children = item.children.map(item => {\n            item.component = () => import(`../views/${item.url}`);\n            return item;\n          });\n          menuArray.push(...item.children);\n        } else {\n          item.component = () => import(`../views/${item.url}`);\n          menuArray.push(item);\n        }\n      });\n      //路由的動態添加\n      menuArray.forEach(item => {\n        router.addRoute('Main', item);\n      });\n    }\n  }\n};","map":{"version":3,"names":["Cookie","state","isCollapsed","tabsList","path","name","label","icon","currentMenu","menu","mutations","collapseMenu","selectMenu","val","result","findIndex","item","push","closeTag","splice","setMenu","set","JSON","stringify","clearMenu","remove","addMenu","get","parse","menuArray","forEach","children","map","component","url","router","addRoute"],"sources":["/Users/serina/Desktop/vue-backstage/src/store/tab.js"],"sourcesContent":["import Cookie from 'js-cookie';\nexport default {\n    state: {\n        isCollapsed: false,\n        tabsList: [\n            {\n                path: '/home',\n                name: 'home',\n                label: '首頁',\n                icon: 'HomeFilled'\n            }\n        ],\n        currentMenu: null,\n        menu: []\n    },\n    mutations: {\n        collapseMenu(state) {\n            state.isCollapsed = !state.isCollapsed;\n        },\n        selectMenu(state, val) {\n            state.currentMenu = val;\n            const result = state.tabsList.findIndex(item => item.name === val.name);\n            if (result === -1) {\n                state.tabsList.push(val);\n            } else {\n                state.currentMenu = null\n            }\n        },\n        closeTag(state, val) {\n            const result = state.tabsList.findIndex(item => item.name === val.name );\n            state.tabsList.splice(result, 1);\n        },\n        setMenu(state, val) {\n            state.menu = val\n            Cookie.set('menu', JSON.stringify(val))\n        },\n        clearMenu(state) {\n            state.menu = []\n            Cookie.remove('menu')\n        },\n        addMenu(state, val) {\n            if(!Cookie.get('menu')) {\n                return\n            }\n            const menu = JSON.parse(Cookie.get('menu'))\n            state.menu = menu\n            const menuArray = []\n            menu.forEach(item => {\n                if(item.children) {\n                    item.children = item.children.map(item => {\n                        item.component = () => import(`../views/${item.url}`)\n                        return item\n                    })\n                    menuArray.push(...item.children)\n                } else {\n                    item.component = () => import(`../views/${item.url}`)\n                    menuArray.push(item)\n                }\n            });\n            //路由的動態添加\n            menuArray.forEach(item => {\n                router.addRoute('Main', item)\n            })\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}