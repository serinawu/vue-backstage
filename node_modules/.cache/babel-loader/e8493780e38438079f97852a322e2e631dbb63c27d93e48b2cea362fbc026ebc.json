{"ast":null,"code":"import axios from 'axios';\nimport config from '../config';\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro;\nclass HttpRequest {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n  getInsideConfig() {\n    const config = {\n      baseUrl: this.baseUrl,\n      header: {}\n    };\n    return config;\n  }\n  interceptors(instance) {\n    //添加請求攔截器\n    axios.interceptors.request.use(function (config) {\n      //在發送請求前要做什麼\n      return config;\n    }, function (error) {\n      //對請求錯誤做些什麼\n      return Promise.reject(error);\n    });\n\n    //添加響應攔截器\n    axios.interceptors.response.use(function (response) {\n      //對響應數據做點什麼\n      return response;\n    }, function (error) {\n      //對響應錯誤做點什麼\n      return Promise.reject(error);\n    });\n  }\n  request(options) {\n    const instance = {\n      ...this.getInsideConfig(),\n      ...options\n    };\n    this.interceptors(instance);\n    return instance(options);\n  }\n}\nexport default new HttpRequest(baseUrl);","map":{"version":3,"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequest","constructor","getInsideConfig","header","interceptors","instance","request","use","error","Promise","reject","response","options"],"sources":["C:/Users/user/Pictures/vue-backstage/api/axios.js"],"sourcesContent":["import axios from 'axios';\r\nimport config from '../config';\r\n\r\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro;\r\n\r\nclass HttpRequest {\r\n    constructor(baseUrl) {\r\n        this.baseUrl = baseUrl;\r\n    }\r\n\r\n    getInsideConfig () {\r\n        const config = {\r\n            baseUrl: this.baseUrl,\r\n            header: {}\r\n        }\r\n\r\n        return config;\r\n    }\r\n\r\n    interceptors (instance) {\r\n        //添加請求攔截器\r\n        axios.interceptors.request.use(\r\n            function(config) {\r\n            //在發送請求前要做什麼\r\n            return config;\r\n        }, function (error) {\r\n            //對請求錯誤做些什麼\r\n            return Promise.reject(error);\r\n        });\r\n\r\n        //添加響應攔截器\r\n        axios.interceptors.response.use(\r\n            function(response) {\r\n            //對響應數據做點什麼\r\n            return response;\r\n        }, function (error) {\r\n            //對響應錯誤做點什麼\r\n            return Promise.reject(error);\r\n        });\r\n    }\r\n    request(options) {\r\n        const instance = { ...this.getInsideConfig(), ...options}\r\n        this.interceptors(instance)\r\n        return instance(options);\r\n    }\r\n}\r\n\r\nexport default new HttpRequest(baseUrl)"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;AAE9B,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAGJ,MAAM,CAACC,OAAO,CAACI,GAAG,GAAGL,MAAM,CAACC,OAAO,CAACK,GAAG;AAEhG,MAAMC,WAAW,CAAC;EACdC,WAAWA,CAACP,OAAO,EAAE;IACjB,IAAI,CAACA,OAAO,GAAGA,OAAO;EAC1B;EAEAQ,eAAeA,CAAA,EAAI;IACf,MAAMT,MAAM,GAAG;MACXC,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBS,MAAM,EAAE,CAAC;IACb,CAAC;IAED,OAAOV,MAAM;EACjB;EAEAW,YAAYA,CAAEC,QAAQ,EAAE;IACpB;IACAb,KAAK,CAACY,YAAY,CAACE,OAAO,CAACC,GAAG,CAC1B,UAASd,MAAM,EAAE;MACjB;MACA,OAAOA,MAAM;IACjB,CAAC,EAAE,UAAUe,KAAK,EAAE;MAChB;MACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAChC,CAAC,CAAC;;IAEF;IACAhB,KAAK,CAACY,YAAY,CAACO,QAAQ,CAACJ,GAAG,CAC3B,UAASI,QAAQ,EAAE;MACnB;MACA,OAAOA,QAAQ;IACnB,CAAC,EAAE,UAAUH,KAAK,EAAE;MAChB;MACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;IAChC,CAAC,CAAC;EACN;EACAF,OAAOA,CAACM,OAAO,EAAE;IACb,MAAMP,QAAQ,GAAG;MAAE,GAAG,IAAI,CAACH,eAAe,CAAC,CAAC;MAAE,GAAGU;IAAO,CAAC;IACzD,IAAI,CAACR,YAAY,CAACC,QAAQ,CAAC;IAC3B,OAAOA,QAAQ,CAACO,OAAO,CAAC;EAC5B;AACJ;AAEA,eAAe,IAAIZ,WAAW,CAACN,OAAO,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}