{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Main from '@/views/Main.vue';\nimport Cookies from 'js-cookie';\nconst routes = [{\n  path: '/login',\n  name: 'loginPage',\n  component: () => import('@/views/login/loginPage.vue'),\n  meta: {\n    title: \"登入\"\n  }\n}, {\n  path: '/',\n  name: 'Main',\n  component: Main,\n  children: [\n    //     {\n    //         path: 'home',\n    //         name: 'home',\n    //         component: () => import('@/views/home/index.vue')\n    //     },\n    //     {\n    //         path: 'user',\n    //         name: 'user',\n    //         component: () => import('@/views/User/index.vue')\n    //     },\n    //     {\n    //         path: 'mall',\n    //         name: 'mall',\n    //         component: () => import('@/views/mall/index.vue')\n    //     },\n    //     {\n    //         path: 'page1',\n    //         name: 'page1',\n    //         component: () => import('@/views/other/pageOne.vue')\n    //     },\n    //     {\n    //         path: 'page2',\n    //         name: 'page2',\n    //         component: () => import('@/views/other/pageTwo.vue')\n    //     }\n  ]\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, next) => {\n  const token = Cookies.get('token');\n  if (!token && to.name !== 'loginPage') {\n    next({\n      name: 'loginPage'\n    });\n  } else if (token && to.name == 'loginPage') {\n    next({\n      name: 'home'\n    });\n  } else {\n    next();\n  }\n});\nrouter.afterEach(to => {\n  document.title = to.meta.title || \"通用後台管理系統\";\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Main","Cookies","routes","path","name","component","meta","title","children","router","history","beforeEach","to","next","token","get","afterEach","document"],"sources":["/Users/serina/Desktop/vue-backstage/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport Main from '@/views/Main.vue';\nimport Cookies from 'js-cookie';\n\nconst routes = [\n    {\n        path: '/login',\n        name: 'loginPage',\n        component: () => import('@/views/login/loginPage.vue'),\n        meta: {title: \"登入\"},\n    },\n    { \n        path: '/',\n        name: 'Main',\n        component: Main,\n        children: [\n        //     {\n        //         path: 'home',\n        //         name: 'home',\n        //         component: () => import('@/views/home/index.vue')\n        //     },\n        //     {\n        //         path: 'user',\n        //         name: 'user',\n        //         component: () => import('@/views/User/index.vue')\n        //     },\n        //     {\n        //         path: 'mall',\n        //         name: 'mall',\n        //         component: () => import('@/views/mall/index.vue')\n        //     },\n        //     {\n        //         path: 'page1',\n        //         name: 'page1',\n        //         component: () => import('@/views/other/pageOne.vue')\n        //     },\n        //     {\n        //         path: 'page2',\n        //         name: 'page2',\n        //         component: () => import('@/views/other/pageTwo.vue')\n        //     }\n        ]\n    }\n];\n\nconst router = createRouter ({\n    history: createWebHistory(),\n    routes\n})\n\nrouter.beforeEach((to, next) => {\n    \n    const token = Cookies.get('token')\n    if (!token && to.name !== 'loginPage') {\n        next({name: 'loginPage'})\n    } else if (token && to.name == 'loginPage'){\n        next({name: 'home'})\n    } else {\n        next()\n    }\n})\n\nrouter.afterEach((to)=> {\n    document.title = to.meta.title || \"通用後台管理系統\"\n})\n\nexport default router;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,6BAA6B,CAAC;EACtDC,IAAI,EAAE;IAACC,KAAK,EAAE;EAAI;AACtB,CAAC,EACD;EACIJ,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL,IAAI;EACfQ,QAAQ,EAAE;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;AAEJ,CAAC,CACJ;AAED,MAAMC,MAAM,GAAGX,YAAY,CAAE;EACzBY,OAAO,EAAEX,gBAAgB,CAAC,CAAC;EAC3BG;AACJ,CAAC,CAAC;AAEFO,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAK;EAE5B,MAAMC,KAAK,GAAGb,OAAO,CAACc,GAAG,CAAC,OAAO,CAAC;EAClC,IAAI,CAACD,KAAK,IAAIF,EAAE,CAACR,IAAI,KAAK,WAAW,EAAE;IACnCS,IAAI,CAAC;MAACT,IAAI,EAAE;IAAW,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAIU,KAAK,IAAIF,EAAE,CAACR,IAAI,IAAI,WAAW,EAAC;IACvCS,IAAI,CAAC;MAACT,IAAI,EAAE;IAAM,CAAC,CAAC;EACxB,CAAC,MAAM;IACHS,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEFJ,MAAM,CAACO,SAAS,CAAEJ,EAAE,IAAI;EACpBK,QAAQ,CAACV,KAAK,GAAGK,EAAE,CAACN,IAAI,CAACC,KAAK,IAAI,UAAU;AAChD,CAAC,CAAC;AAEF,eAAeE,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}