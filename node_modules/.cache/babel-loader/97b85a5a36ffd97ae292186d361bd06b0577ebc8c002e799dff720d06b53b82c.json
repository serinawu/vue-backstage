{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  name: 'CommonTag',\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      tags: state => state.tab.tabsList\n    })\n  },\n  methods: {\n    ...mapMutations({\n      close: 'closeTag'\n    }),\n    changeMenu(item) {\n      this.$router.push({\n        name: item.name\n      });\n    },\n    handleClose(tag, index) {\n      const length = this.tags.length - 1;\n      this.close(tag);\n      if (tag.name !== this.$route.name) {\n        return;\n      }\n      if (index === length) {\n        this.$router.push({\n          name: this.tags[index - 1].name\n        });\n      } else {\n        this.$router.push({\n          name: this.tags[index].name\n        });\n      }\n    },\n    closeTag(state, val) {\n      const result = state.tabList.findIndex(item => item.name === val.name);\n      state.tabList.splice(result, 1);\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapMutations","name","data","computed","tags","state","tab","tabsList","methods","close","changeMenu","item","$router","push","handleClose","tag","index","length","$route","closeTag","val","result","tabList","findIndex","splice"],"sources":["/Users/serina/Desktop/vue-backstage/src/components/CommonTag.vue"],"sourcesContent":["<template>\n    <div class=\"tabs\">\n        <el-tag\n            v-for=\"(tag, index) in tags\"\n            :key=\"tag.name\"\n            :closable = \"tag.name !== 'home'\"\n            :effect=\"$route.name === tag.name ? 'dark' : 'plain'\"\n            @click=\"changeMenu(tag)\"\n            @close=\"handleClose(tag, index)\"\n            size=\"small\"\n        >\n        {{ tag.label }}\n        </el-tag>\n    </div>\n</template>\n<script>\nimport { mapState, mapMutations } from 'vuex';\n    export default {\n        name: 'CommonTag',\n        data() {\n            return {\n\n            }\n        },\n        computed: {\n            ...mapState({\n                tags: state => state.tab.tabsList\n            })\n        },\n        methods: {\n            ...mapMutations({\n                close: 'closeTag'\n            }),\n            changeMenu(item) {\n                this.$router.push({ name: item.name })\n            },\n            handleClose(tag, index) {\n                const length = this.tags.length - 1;\n                this.close(tag);\n                if (tag.name !== this.$route.name ){\n                    return;\n                }\n                if (index === length) {\n                    this.$router.push({\n                        name: this.tags[index - 1].name\n                    })\n                } else {\n                    this.$router.push({\n                        name: this.tags[index].name\n                    })\n                }\n            },\n            closeTag(state, val) {\n                const result = state.tabList.findIndex(item => item.name === val.name);\n                state.tabList.splice(result, 1)\n            }\n        }\n    }   \n</script>\n<style lang=\"less\" scoped>\n    .tabs {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        padding: 20px 20px 5px;\n\n        .el-tag {\n            margin-right: 15px;\n            cursor: pointer;\n        }\n    }\n</style>"],"mappings":";AAgBA,SAASA,QAAQ,EAAEC,YAAW,QAAS,MAAM;AACzC,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACH,OAAO,CAEP;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGJ,QAAQ,CAAC;MACRK,IAAI,EAAEC,KAAI,IAAKA,KAAK,CAACC,GAAG,CAACC;IAC7B,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,GAAGR,YAAY,CAAC;MACZS,KAAK,EAAE;IACX,CAAC,CAAC;IACFC,UAAUA,CAACC,IAAI,EAAE;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEZ,IAAI,EAAEU,IAAI,CAACV;MAAK,CAAC;IACzC,CAAC;IACDa,WAAWA,CAACC,GAAG,EAAEC,KAAK,EAAE;MACpB,MAAMC,MAAK,GAAI,IAAI,CAACb,IAAI,CAACa,MAAK,GAAI,CAAC;MACnC,IAAI,CAACR,KAAK,CAACM,GAAG,CAAC;MACf,IAAIA,GAAG,CAACd,IAAG,KAAM,IAAI,CAACiB,MAAM,CAACjB,IAAG,EAAG;QAC/B;MACJ;MACA,IAAIe,KAAI,KAAMC,MAAM,EAAE;QAClB,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC;UACdZ,IAAI,EAAE,IAAI,CAACG,IAAI,CAACY,KAAI,GAAI,CAAC,CAAC,CAACf;QAC/B,CAAC;MACL,OAAO;QACH,IAAI,CAACW,OAAO,CAACC,IAAI,CAAC;UACdZ,IAAI,EAAE,IAAI,CAACG,IAAI,CAACY,KAAK,CAAC,CAACf;QAC3B,CAAC;MACL;IACJ,CAAC;IACDkB,QAAQA,CAACd,KAAK,EAAEe,GAAG,EAAE;MACjB,MAAMC,MAAK,GAAIhB,KAAK,CAACiB,OAAO,CAACC,SAAS,CAACZ,IAAG,IAAKA,IAAI,CAACV,IAAG,KAAMmB,GAAG,CAACnB,IAAI,CAAC;MACtEI,KAAK,CAACiB,OAAO,CAACE,MAAM,CAACH,MAAM,EAAE,CAAC;IAClC;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}